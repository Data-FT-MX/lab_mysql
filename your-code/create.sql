CREATE TABLE car (
  id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  vim VARCHAR(45) NOT NULL,
  manufacturer VARCHAR(45) NOT NULL,
  model VARCHAR(45) NOT NULL,
  year INT UNSIGNED NOT NULL,
  color VARCHAR(45) NOT NULL,
  PRIMARY KEY  (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE customer (
  id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  customer_id VARCHAR(45) NOT NULL,
  name VARCHAR(100) NOT NULL,
  phone VARCHAR(24) NOT NULL,
  email VARCHAR(100) NOT NULL,
  address VARCHAR(100) NOT NULL,
  city VARCHAR(100) NOT NULL,
  state VARCHAR(100) NOT NULL,
  country VARCHAR(100) NOT NULL,
  zip VARCHAR(45) NOT NULL,
  PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE salesperson (
  id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  staff_id VARCHAR(45) NOT NULL,
  name VARCHAR(100) NOT NULL,
  store VARCHAR(100) NOT NULL,
  PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE invoice (
  id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
  date DATE NOT NULL,
  car_id SMALLINT UNSIGNED NOT NULL,
  customer_id SMALLINT UNSIGNED NOT NULL,
  salesperson_id SMALLINT UNSIGNED NOT NULL,
  PRIMARY KEY (id),
  KEY idx_fk_car_id (car_id),
  KEY idx_fk_customer_id (customer_id),
  KEY idx_fk_salesperson_id (salesperson_id),
  CONSTRAINT `fk_invoice_car` FOREIGN KEY (car_id) REFERENCES car (id) ON DELETE RESTRICT ON UPDATE CASCADE,
  CONSTRAINT `fk_invoice_customer` FOREIGN KEY (customer_id) REFERENCES customer (id) ON DELETE RESTRICT ON UPDATE CASCADE,
  CONSTRAINT `fk_invoice_salesperson` FOREIGN KEY (salesperson_id) REFERENCES salesperson (id) ON DELETE RESTRICT ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;